<?xml version="1.0" encoding="UTF-8" ?>
<project name="validate" default="testValidate" basedir=".">

  <target name="testValidate">
    <xmlvalidate warn="false">
      <fileset dir="xml" includes="**/about.xml"/>  
       <dtd publicID="-//stevo//DTD doc 1.0//EN"
         location="xml/doc.dtd"/>
    </xmlvalidate>
  </target>
  
  <target name="testDeepValidate">
    <ant dir="xml" 
      antfile="validate.xml"
      target="testValidate"/>
  </target>

  <target name="xmlcatalog">
    <xmlvalidate warn="false">
      <fileset dir="xml" includes="**/about.xml"/>
      <xmlcatalog classpath="xml">
        <dtd publicID="-//stevo//DTD doc 1.0//EN"
             location="doc.dtd"/>
      </xmlcatalog>
    </xmlvalidate>
  </target>

  <target name="xmlcatalognested">
    <xmlvalidate warn="false">
      <fileset dir="xml" includes="**/about.xml"/>
      <xmlcatalog classpath="xml">
        <entity publicID = "bogusImage"
                 location = "/i/dont/exist.jpg"/>
        <xmlcatalog>
          <dtd publicID="-//stevo//DTD doc 1.0//EN"
               location="doc.dtd"/>
        </xmlcatalog>
      </xmlcatalog>
    </xmlvalidate>
  </target>
  
  <target name="testSchemaGood">
    <xmlvalidate warn="false">
      <fileset dir="xml" includes="endpiece.xml"/>  
      <feature name="http://xml.org/sax/features/validation" value="true"/>
      <feature name="http://apache.org/xml/features/validation/schema"  value="true"/>
        <xmlcatalog >
          <entity publicID = "nap:Massive+Attack+Mezzanine"
            location = "xml/doc.xsd"/>
        </xmlcatalog> 
    </xmlvalidate>
  </target>
  
  <target name="testSchGemaBad">
    <xmlvalidate warn="false">
      <fileset dir="xml" includes="endpiece2.xml"/>  
      <feature name="http://xml.org/sax/features/validation" value="true"/>
      <feature name="http://apache.org/xml/features/validation/schema"  value="true"/>
    </xmlvalidate>
  </target>
    
</project>
