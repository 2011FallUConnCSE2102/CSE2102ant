<project default="dont-run-this">

  <property name="build.dir" value="build"/>
  
  <target name="dont-run-this">
    <fail>This build file is supposed to be run by a Unit test</fail>
  </target>
 

  <target name="testPropertyExpansion">
    <sequential>
      <property name="foo" value="it worked"/>
      <echo message="As attribute: ${foo}"/>
      <echo>As nested text: ${foo}</echo>
    </sequential>
  </target>

  <target name="testTaskdef">
    <mkdir dir="${build.dir}"/>
    <javac srcdir="containersrc" destdir="${build.dir}" debug="on"/>

    <sequential>    
      <taskdef name="sseq" classpath="${build.dir}" classname="test.SpecialSeq"/>
      <sseq>
        <property name="foo" value="it worked"/>
        <echo message="As attribute: ${foo}"/>
        <echo>As nested text: ${foo}</echo>
      </sseq>
    </sequential>
  </target>

  <target name="cleanup">
    <delete dir="${build.dir}"/>
  </target>
  
</project>